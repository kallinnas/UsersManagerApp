<h2>My Users</h2>
<div class="table-container">
    <table mat-table [dataSource]="dataSource">

        <ng-container matColumnDef="firstName">
            <th mat-header-cell *matHeaderCellDef>First Name</th>
            <td mat-cell *matCellDef="let user">
                <span 
                    [ngClass]="{'truncated-text': isMobileView}" 
                    [matTooltip]="isMobileView && user.lastName.length > 6 ? user.firstName : null" matTooltipPosition="above">
                    {{ isMobileView && user.firstName.length > 6 ? (user.firstName | slice:0:5) + '...' : user.firstName }}
                </span>
            </td>
        </ng-container>
        
        <ng-container matColumnDef="lastName">
            <th mat-header-cell *matHeaderCellDef>Last Name</th>
            <td mat-cell *matCellDef="let user">
                <span 
                    [ngClass]="{'truncated-text': isMobileView}" 
                    [matTooltip]="isMobileView && user.lastName.length > 6 ? user.lastName : null" matTooltipPosition="above"> 
                    {{ isMobileView && user.lastName.length > 6 ? (user.lastName | slice:0:5) + '...' : user.lastName }}
                </span>
            </td>
        </ng-container>
        

        <ng-container matColumnDef="gender">
            <th mat-header-cell *matHeaderCellDef>Gender</th>
            <td mat-cell *matCellDef="let user">{{ user.gender }}</td>
        </ng-container>

        <ng-container matColumnDef="age">
            <th mat-header-cell *matHeaderCellDef>Age</th>
            <td mat-cell *matCellDef="let user">{{ user.age }}</td>
        </ng-container>

        <ng-container matColumnDef="country">
            <th mat-header-cell *matHeaderCellDef>Country</th>
            <td mat-cell *matCellDef="let user">{{ user.country }}</td>
        </ng-container>

        <ng-container matColumnDef="countryIcon">
            <th mat-header-cell *matHeaderCellDef>Country</th>
            <td mat-cell *matCellDef="let user">
                <mat-icon matTooltip="{{ user.country }}" matTooltipPosition="above">location_on</mat-icon>
            </td>
        </ng-container>

        <ng-container matColumnDef="city">
            <th mat-header-cell *matHeaderCellDef>City</th>
            <td mat-cell *matCellDef="let user">{{ user.city }}</td>
        </ng-container>

        <ng-container matColumnDef="cityIcon">
            <th mat-header-cell *matHeaderCellDef>City</th>
            <td mat-cell *matCellDef="let user">
                <mat-icon matTooltip="{{ user.city }}" matTooltipPosition="above">location_city</mat-icon>
            </td>
        </ng-container>

        <ng-container matColumnDef="edit">
            <th mat-header-cell *matHeaderCellDef>Edit</th>
            <td mat-cell *matCellDef="let user">
                <button mat-icon-button color="warn" (click)="openEditDialog(user.userID)">
                    <mat-icon>edit</mat-icon>
                </button>
            </td>
        </ng-container>

        <ng-container matColumnDef="remove">
            <th mat-header-cell *matHeaderCellDef>Remove</th>
            <td mat-cell *matCellDef="let user">
                <button mat-icon-button color="warn" (click)="removeUser(user.userID)">
                    <mat-icon>delete_forever</mat-icon>
                </button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"> </tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
</div>
<div *ngIf="dataSource.data.length == 0" class="no_data">
    No Users
</div>

<button mat-mini-fab class="add_user" (click)="openAddUserDialog()">
    <mat-icon>add</mat-icon>
</button>