<h2>My Users</h2>
<div class="table-container">
    <table mat-table [dataSource]="dataSource">

        <ng-container matColumnDef="firstName">
            <th mat-header-cell *matHeaderCellDef>
                <div fxLayoutAlign="center center">First Name</div>
            </th>
            <td mat-cell *matCellDef="let user">
                <div fxLayout="row" fxLayoutAlign="center center" [ngClass]="{'truncated-text': isMobileView}"
                    [matTooltip]="isMobileView && user.lastName.length > 6 ? user.firstName : null"
                    matTooltipPosition="above"> {{ user.firstName }}
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="lastName">
            <th mat-header-cell *matHeaderCellDef>
                <div fxLayout="row" fxLayoutAlign="center center">Last Name</div>
            </th>
            <td mat-cell *matCellDef="let user">
                <div fxLayout="row" fxLayoutAlign="center center" [ngClass]="{'truncated-text': isMobileView}"
                    [matTooltip]="isMobileView && user.lastName.length > 6 ? user.lastName : null"
                    matTooltipPosition="above">
                    {{ isMobileView && user.lastName.length > 12 ? (user.lastName | slice:0:12) + '...' : user.lastName }}
                </div>
            </td>
        </ng-container>


        <ng-container matColumnDef="gender">
            <th mat-header-cell *matHeaderCellDef>
                <div fxLayout="row" fxLayoutAlign="center center">Gender</div>
            </th>
            <td mat-cell *matCellDef="let user">
                <div fxLayout="row" fxLayoutAlign="center center">{{ user.gender }}</div>
            </td>
        </ng-container>

        <ng-container matColumnDef="age">
            <th mat-header-cell *matHeaderCellDef>
                <div fxLayout="row" fxLayoutAlign="center center">Age</div>
            </th>
            <td mat-cell *matCellDef="let user">
                <div fxLayout="row" fxLayoutAlign="center center">{{ user.age }}</div>
            </td>
        </ng-container>

        <ng-container matColumnDef="country">
            <th mat-header-cell *matHeaderCellDef>
                <div fxLayout="row" fxLayoutAlign="center center">Country</div>
            </th>
            <td mat-cell *matCellDef="let user">
                <div fxLayout="row" fxLayoutAlign="center center">{{ user.country }}</div>
            </td>
        </ng-container>

        <ng-container matColumnDef="countryIcon">
            <th mat-header-cell *matHeaderCellDef>
                <div fxLayout="row" fxLayoutAlign="center center">Country</div>
            </th>
            <td mat-cell *matCellDef="let user">
                <div fxLayout="row" fxLayoutAlign="center center">
                    <mat-icon matTooltip="{{ user.country }}" matTooltipPosition="above">location_on</mat-icon>
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="city">
            <th mat-header-cell *matHeaderCellDef>
                <div fxLayout="row" fxLayoutAlign="center center">City</div>
            </th>
            <td mat-cell *matCellDef="let user">
                <div fxLayout="row" fxLayoutAlign="center center">{{ user.city }}</div>
            </td>
        </ng-container>

        <ng-container matColumnDef="cityIcon">
            <th mat-header-cell *matHeaderCellDef>
                <div fxLayout="row" fxLayoutAlign="center center">City</div>
            </th>
            <td mat-cell *matCellDef="let user">
                <div fxLayout="row" fxLayoutAlign="center center">
                    <mat-icon matTooltip="{{ user.city }}" matTooltipPosition="above">location_city</mat-icon>
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="edit">
            <th mat-header-cell *matHeaderCellDef>
                <div fxLayout="row" fxLayoutAlign="center center">Edit</div>
            </th>
            <td mat-cell *matCellDef="let user">
                <div fxLayout="row" fxLayoutAlign="center center">
                    <mat-icon (click)="openEditDialog(user.id)">edit</mat-icon>
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="remove">
            <th mat-header-cell *matHeaderCellDef>
                <div fxLayout="row" fxLayoutAlign="center center">Remove</div>
            </th>
            <td mat-cell *matCellDef="let user">
                <div fxLayout="row" fxLayoutAlign="center center">
                    <mat-icon (click)="removeUser(user.id)">delete_forever</mat-icon>
                </div>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"> </tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
</div>
<div *ngIf="dataSource.data.length == 0" class="no_data">
    No Users
</div>

<button mat-mini-fab class="add_user" (click)="openAddUserDialog()">
    <mat-icon>add</mat-icon>
</button>